import{a as v,f as p,c as Ht}from"../chunks/DIo1Mb-Q.js";import{i as Ot}from"../chunks/BaBAM0Xm.js";import{o as Pt}from"../chunks/Ou4Y_0Z5.js";import{$ as qt,M as Ut,aQ as Wt,af as Vt,e as Gt,u as n,aR as Kt,aS as Jt,q as Qt,U as wa,aD as it,D as Xt,aT as Da,aU as Yt,E as Ca,F as $,G as Zt,y as a,aV as ae,I as r,K as o,W as R,aW as te,J as e,V as ta,z as ee,aP as re,aX as se}from"../chunks/BKQwOs6K.js";import{a as ie,e as U,s as z,r as ne}from"../chunks/UijS7mQC.js";import{i as b,s as oe,a as de}from"../chunks/BezKbsVq.js";import{g as Fa,d as Ea,s as sa,a as le,b as ve,c as pa,E as ce,e as na,i as oa,R as Za,r as at,f as tt,h as et,j as rt}from"../chunks/BBCQDpWt.js";import{h as pe}from"../chunks/B3mhA-Ep.js";import{s as ue,b as fe,g as me}from"../chunks/f5m_idUa.js";const ge=()=>performance.now(),ia={tick:d=>requestAnimationFrame(d),now:()=>ge(),tasks:new Set};function nt(){const d=ia.now();ia.tasks.forEach(l=>{l.c(d)||(ia.tasks.delete(l),l.f())}),ia.tasks.size!==0&&ia.tick(nt)}function be(d){let l;return ia.tasks.size===0&&ia.tick(nt),{promise:new Promise(E=>{ia.tasks.add(l={c:d,f:E})}),abort(){ia.tasks.delete(l)}}}function Ta(d,l){it(()=>{d.dispatchEvent(new CustomEvent(l))})}function _e(d){if(d==="float")return"cssFloat";if(d==="offset")return"cssOffset";if(d.startsWith("--"))return d;const l=d.split("-");return l.length===1?l[0]:l[0]+l.slice(1).map(E=>E[0].toUpperCase()+E.slice(1)).join("")}function st(d){const l={},E=d.split(";");for(const A of E){const[L,_]=A.split(":");if(!L||_===void 0)break;const h=_e(L.trim());l[h]=_.trim()}return l}const he=d=>d;function we(d,l,E,A){var L=(d&Kt)!==0,_="both",h,W=l.inert,t=l.style.overflow,k,w;function K(){return it(()=>h??=E()(l,A?.()??{},{direction:_}))}var H={is_global:L,in(){l.inert=W,k=Ba(l,K(),w,1,()=>{Ta(l,"introend"),k?.abort(),k=h=void 0,l.style.overflow=t})},out(X){l.inert=!0,w=Ba(l,K(),k,0,()=>{Ta(l,"outroend"),X?.()})},stop:()=>{k?.abort(),w?.abort()}},J=qt;if((J.nodes.t??=[]).push(H),ie){var Q=L;if(!Q){for(var x=J.parent;x&&(x.f&Ut)!==0;)for(;(x=x.parent)&&(x.f&Wt)===0;);Q=!x||(x.f&Vt)!==0}Q&&Gt(()=>{n(()=>H.in())})}}function Ba(d,l,E,A,L){var _=A===1;if(Jt(l)){var h,W=!1;return Qt(()=>{if(!W){var X=l({direction:_?"in":"out"});h=Ba(d,X,E,A,L)}}),{abort:()=>{W=!0,h?.abort()},deactivate:()=>h.deactivate(),reset:()=>h.reset(),t:()=>h.t()}}if(E?.deactivate(),!l?.duration&&!l?.delay)return Ta(d,_?"introstart":"outrostart"),L(),{abort:wa,deactivate:wa,reset:wa,t:()=>A};const{delay:t=0,css:k,tick:w,easing:K=he}=l;var H=[];if(_&&E===void 0&&(w&&w(0,1),k)){var J=st(k(0,1));H.push(J,J)}var Q=()=>1-A,x=d.animate(H,{duration:t,fill:"forwards"});return x.onfinish=()=>{x.cancel(),Ta(d,_?"introstart":"outrostart");var X=E?.t()??1-A;E?.abort();var T=A-X,da=l.duration*Math.abs(T),ba=[];if(da>0){var xa=!1;if(k)for(var ka=Math.ceil(da/16.666666666666668),_a=0;_a<=ka;_a+=1){var la=X+T*K(_a/ka),ya=st(k(la,1-la));ba.push(ya),xa||=ya.overflow==="hidden"}xa&&(d.style.overflow="hidden"),Q=()=>{var fa=x.currentTime;return X+T*K(fa/da)},w&&be(()=>{if(x.playState!=="running")return!1;var fa=Q();return w(fa,1-fa),!0})}x=d.animate(ba,{duration:da,fill:"forwards"}),x.onfinish=()=>{Q=()=>A,w?.(A,1-A),L()}},{abort:()=>{x&&(x.cancel(),x.effect=null,x.onfinish=wa)},deactivate:()=>{L=wa},reset:()=>{A===0&&w?.(1,0)},t:()=>Q()}}const xe=!1,ke=!1,wr=Object.freeze(Object.defineProperty({__proto__:null,prerender:xe,ssr:ke},Symbol.toStringTag,{value:"Module"}));function ye(d){const l=d-1;return l*l*l+1}function $e(d,{delay:l=0,duration:E=400,easing:A=ye,axis:L="y"}={}){const _=getComputedStyle(d),h=+_.opacity,W=L==="y"?"height":"width",t=parseFloat(_[W]),k=L==="y"?["top","bottom"]:["left","right"],w=k.map(T=>`${T[0].toUpperCase()}${T.slice(1)}`),K=parseFloat(_[`padding${w[0]}`]),H=parseFloat(_[`padding${w[1]}`]),J=parseFloat(_[`margin${w[0]}`]),Q=parseFloat(_[`margin${w[1]}`]),x=parseFloat(_[`border${w[0]}Width`]),X=parseFloat(_[`border${w[1]}Width`]);return{delay:l,duration:E,easing:A,css:T=>`overflow: hidden;opacity: ${Math.min(T*20,1)*h};${W}: ${T*t}px;padding-${k[0]}: ${T*K}px;padding-${k[1]}: ${T*H}px;margin-${k[0]}: ${T*J}px;margin-${k[1]}: ${T*Q}px;border-${k[0]}-width: ${T*x}px;border-${k[1]}-width: ${T*X}px;min-${W}: 0`}}function ua(d,l){let E=0;async function A(_){try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(_);else{const h=document.createElement("input");h.value=_,document.body.appendChild(h),h.select(),document.execCommand("copy"),document.body.removeChild(h)}d.classList.add("copied"),setTimeout(()=>d.classList.remove("copied"),500)}catch(h){console.error("Copy failed",h)}}function L(_){const h=new Date().getTime(),W=h-E;W<300&&W>0&&A(l??d.textContent??""),E=h}return d.addEventListener("click",L),d.addEventListener("touchend",L),{destroy(){d.removeEventListener("click",L),d.removeEventListener("touchend",L)}}}const Ce=()=>{const d=ue;return{page:{subscribe:d.page.subscribe},navigating:{subscribe:d.navigating.subscribe},updated:d.updated}},Ee={subscribe(d){return Ce().page.subscribe(d)}};var Te=p('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50" role="dialog" aria-modal="true"><div class="bg-base-100 rounded-lg p-4 m-4 shadow-lg w-96"><h3 class="text-lg font-bold mb-4">Confirm Delete</h3> <p class="mb-6">Are you sure you want to delete this entry?</p> <div class="flex justify-end gap-2"><button class="btn btn-soft">Cancel</button> <button class="btn btn-error">Delete</button></div></div></div>'),je=p('<div class="fixed inset-0 bg-base-100/69 flex items-center justify-center z-50 p-4"><img class="max-h-full max-w-full rounded-lg shadow-2xl"/> <button class="absolute bottom-5 right-5 btn btn-circle btn-md btn-ghost text-white bg-base-300">✕</button></div>'),Ae=p('<img class="w-31 h-46 md:w-35 md:h-55 object-cover rounded-lg"/>'),Le=p('<div class="w-34 h-50 bg-base-300 rounded-lg flex items-center justify-center text-base-content/20"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="w-16 h-16 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg></div>'),Me=p('<p class="text-sm text-base-content/70 mb-2 whitespace-pre-wrap break-words hidden md:inline-block"> </p>'),Se=p('<span class="badge badge-primary badge-sm md:badge-md"> </span>'),Ne=p('<div class="flex flex-wrap gap-1 md:gap-2 mb-2 md:mb-4" title="badges"></div>'),ze=p('<button class="btn badge-soft badge-outline badge-sm md:badge-md block break-all whitespace-normal line-clamp-2" title="category"> </button>'),De=p('<div class="badge badge-dash badge-sm md:badge-md" title="dataType"> </div>'),Fe=p('<span class="text-xm badge badge-sm badge-ghost gap-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" class="w-3 h-3 stroke-current fill-base-content"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l2.122 6.53a1 1 0 00.95.69h6.866c.969 0 1.371 1.24.588 1.81l-5.556 4.04a1 1 0 00-.364 1.118l2.122 6.53c.3.921-.755 1.688-1.54 1.118l-5.556-4.04a1 1 0 00-1.176 0l-5.556 4.04c-.784.57-1.838-.197-1.539-1.118l2.122-6.53a1 1 0 00-.364-1.118L.47 11.957c-.783-.57-.38-1.81.588-1.81h6.866a1 1 0 00.95-.69l2.122-6.53z"></path></svg> </span>'),Be=p('<input type="radio" name="rating" class="mask mask-star-2 mask-half-1 bg-base-content"/> <input type="radio" name="rating" class="mask mask-star-2 mask-half-2 bg-base-content"/>',1),Ie=p('<div><div class="rating rating-lg rating-half mt-2"></div></div>'),Re=p('<p class="text-sm text-base-content/70 mb-2 whitespace-pre-wrap break-words inline-block md:hidden"> </p>'),He=p('<span class="badge badge-info badge-sm md:badge-md"> </span>'),Oe=p('<div class="flex flex-wrap gap-1 md:gap-2 mb-2 mt-1 justify-end" title="tags"></div>'),Pe=p('<img class="w-15 h-15 md:w-18 md:h-18 rounded-full object-cover"/>'),qe=p('<div class="w-15 h-15 md:w-18 md:h-18 rounded-full bg-base-300 flex items-center justify-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="w-8 h-8 stroke-current text-base-content/20"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg></div>'),Ue=p('<span class="indicator-item indicator-bottom indicator-center status status-info"></span>'),We=p('<div class="flex flex-col items-center gap-2 flex-shrink-0 w-18 md:w-22 text-center cursor-pointer"><!> <div class="text-sm text-center leading-tight break-all line-clamp-2"><!> <span> </span></div></div>'),Ve=p('<div class="break-all"><span class="font-semibold">Role:</span> </div>'),Ge=p('<div class="break-words"><span class="font-semibold">Alternative Names:</span> </div>'),Ke=p('<span class="badge badge-info badge-xs"> </span>'),Je=p('<div class="flex flex-wrap gap-1 font-semibold">Tags:<!></div>'),Qe=p('<div class="mt-2 p-2 w-full bg-base-200 rounded-md text-xs text-left space-y-1 text-info"><div class="break-all"><span class="font-semibold">Name:</span> </div> <!> <!> <!></div>'),Xe=p('<div class="card bg-base-100 shadow-xl"><div class="card-body p-5 md:p-6"><h2 class="card-title">Characters <button class="btn btn-ghost btn-sm ml-auto" aria-label="Edit Characters"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button></h2> <div class="flex gap-2 md:gap-4 overflow-x-auto pb-1 scrollbar-hide"></div> <!></div></div>'),Ye=p('<div class="card bg-base-100 shadow-xl"><div class="card-body gap-1 md:gap-2 p-4 md:p-6"><h2 class="card-title">Description <button class="btn btn-square btn-ghost ml-auto" aria-label="Edit Description"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button></h2> <div class="ml-2 break-words prose prose-sm max-w-none prose-p:my-1 prose-ul:my-0 prose-li:my-0 prose-h1:my-0 prose-h2:my-0"><!></div></div></div>'),Ze=p('<span class="bg-base-300/70 rounded-lg px-0.5"> </span>'),ar=p('<div class="flex flex-wrap gap-1"></div>'),tr=p('<div class="p-1 text-sm text-base-content/70 bg-base-200/50 border border-base-content/10 rounded-b-lg"><span class="ml-2 text-base-content/60">↳ <span class="font-semibold">Description:</span></span> <span class="inline prose prose-sm prose-neutral prose-p:m-0 prose-strong:inline prose-em:inline prose-code:inline"><!></span></div>'),er=p('<div class="grid grid-cols-[16vw_1fr_2fr] md:grid-cols-[7vw_1fr_2fr] gap-4 px-4 py-3 bg-base-100 divide-x-[2px] divide-base-content/10 border border-base-content/10 rounded-t-lg"><div class="font-semibold"> </div> <div> </div> <div><!></div></div> <!>',1),rr=p('<div class="card bg-base-100 shadow-xl"><div class="card-body p-3 md:p-6"><h2 class="card-title ml-1">Chapters <button class="btn btn-ghost btn-sm ml-auto" aria-label="Edit Chapters"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button></h2> <div class="overflow-x-auto text-xs md:text-sm"><div class="w-full border border-base-300 rounded-lg"><div class="grid grid-cols-[16vw_1fr_2fr] md:grid-cols-[7vw_1fr_2fr] gap-4 px-4 py-3 font-semibold bg-base-200 rounded-t-lg"><div>Chapter</div> <div>Characters</div> <div>Tags</div></div> <div class="divide-y divide-base-300"></div></div></div></div></div>'),sr=p('<div><span class="font-semibold text-base-content">Created:</span> <span> </span></div>'),ir=p('<div><span class="font-semibold text-base-content">Last opened:</span> <span> </span></div>'),nr=p('<div><span class="font-semibold text-base-content">Last edited:</span> <span> </span></div>'),or=p('<details class="collapse bg-base-100"><summary class="collapse-title font-semibold">Timestamps</summary> <div class="collapse-content text-sm"><div class="rounded-lg bg-base-200 p-3 text-xs text-gray-500 space-y-1"><!> <!> <!></div></div></details>'),dr=p('<div class="container mx-auto p-2 md:p-4 max-w-4xl space-y-2 md:space-y-6"><div class="card bg-base-100 shadow-xl"><div class="card-body p-4 md:p-6"><div class="flex flex-row md:flex-row gap-3 md:gap-5"><div class="flex-shrink-0"><!></div> <div class="flex-1 min-w-0 flex flex-col justify-center"><h1 class="text-2xl font-bold mb-2 whitespace-pre-wrap break-words" title="Title"> </h1> <!> <!> <div class="flex flex-wrap gap-1.5 md:gap-2 mt-2"><!> <!> <!></div> <!></div></div> <div><!> <!></div></div></div> <!> <!> <!> <!></div>'),lr=p('<div class="flex items-center justify-center h-64"><span class="loading loading-spinner loading-lg"></span></div>'),vr=p('<!> <div class="min-h-screen bg-base-200"><div class="sticky top-0 z-50 navbar bg-base-100 shadow-lg"><div class="flex-none"><a class="btn btn-square btn-ghost" aria-label="Go back"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></a></div> <div class="flex-1"><span class="text-xl font-bold">Details</span></div> <div class="flex-none gap-2"><button class="btn btn-square btn-ghost" aria-label="Edit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button> <button class="btn btn-square btn-ghost text-error" aria-label="Delete"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="inline-block w-5 h-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div> <!> <!></div> <!>',1);function xr(d,l){Xt(l,!1);const E=()=>de(Ee,"$page",A),[A,L]=oe(),_=ta(),h=ta(),W=ta();let t=ta(null),k=ta(!1),w=ta(),K=ta(!1),H=ta(0),J=ta(null);function Q(c){R(J,a(J)===c?null:c)}const x=["main","lead","mc","fmc","protagonist"];let X=ta("All");function T(c="All"){R(X,c),R(k,!0)}Pt(async()=>{R(w,parseInt(E().params.id)),await da(),await Ea.markAsOpened(a(w))});async function da(){R(t,await Ea.getEntryById(a(w))),R(H,a(t)?.rating??0)}async function ba(c){a(w)&&(R(H,c),await Ea.updateEntryPartial(a(w),{rating:a(H)}),a(t)&&se(t,a(t).rating=a(H)))}function xa(){history.length>1?window.history.back():me("/")}async function ka(){R(k,!1),await da()}function _a(){R(k,!1)}let la=ta(!1);function ya(){R(la,!0)}async function fa(){await Ea.deleteEntry(a(w)),R(la,!1),xa()}function ot(){R(la,!1)}function dt(c){return Fa.parseInline(c)}function lt(c,j){const O=parseFloat(c),Y=parseFloat(j),Z=!isNaN(O),ea=!isNaN(Y);return Z&&!ea?-1:!Z&&ea?1:Z&&ea?O-Y:c.localeCompare(j,void 0,{numeric:!0,sensitivity:"base"})}function ja(c){return c?new Date(c).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"}):null}Da(()=>a(t),()=>{R(_,a(t)?.characters?[...a(t).characters].sort((c,j)=>{const O=x.includes(c.role.toLowerCase())?0:1,Y=x.includes(j.role.toLowerCase())?0:1;return O-Y}):[])}),Da(()=>(a(t),Fa),()=>{R(h,a(t)?.description?Fa.parse(a(t).description):"")}),Da(()=>a(t),()=>{R(W,(a(t)?.rows??[]).slice().sort((c,j)=>lt(c.chapterSE,j.chapterSE)))}),Yt(),Ot();var Ia=vr();pe("9y3fua",c=>{ae(()=>{te.title=`${a(t),n(()=>a(t)?.title||"Loading...")??""} - lib`})});var Ra=Ca(Ia);{var vt=c=>{var j=Te(),O=r(j),Y=o(r(O),4),Z=r(Y),ea=o(Z,2);e(Y),e(O),e(j),U("click",Z,ot),U("click",ea,fa),v(c,j)};b(Ra,c=>{a(la)&&c(vt)})}var Aa=o(Ra,2),La=r(Aa),Ma=r(La),ct=r(Ma);e(Ma);var Ha=o(Ma,4),Oa=r(Ha),pt=o(Oa,2);e(Ha),e(La);var Pa=o(La,2);{var ut=c=>{var j=je(),O=r(j),Y=o(O,2);e(j),$(()=>{sa(O,"src",(a(t),n(()=>a(t).coverImageUrl))),sa(O,"alt",(a(t),n(()=>a(t).title)))}),U("click",O,le(function(Z){ve.call(this,l,Z)})),U("click",Y,()=>R(K,!1)),U("click",j,()=>R(K,!1)),v(c,j)};b(Pa,c=>{a(K)&&c(ut)})}var ft=o(Pa,2);{var mt=c=>{var j=dr(),O=r(j),Y=r(O),Z=r(Y),ea=r(Z),ht=r(ea);{var wt=i=>{var s=Ae();$(()=>{sa(s,"src",(a(t),n(()=>a(t).coverImageUrl))),sa(s,"alt",(a(t),n(()=>a(t).title)))}),U("click",s,()=>R(K,!0)),v(i,s)},xt=i=>{var s=Le();v(i,s)};b(ht,i=>{a(t),n(()=>a(t).coverImageUrl)?i(wt):i(xt,!1)})}e(ea);var qa=o(ea,2),$a=r(qa),kt=r($a,!0);e($a),pa($a,(i,s)=>ua?.(i,s),()=>a(t)?.title);var Ua=o($a,2);{var yt=i=>{var s=Me(),g=r(s,!0);e(s),pa(s,(m,f)=>ua?.(m,f),()=>a(t).alternativeTitles.join(", ")),$(m=>z(g,m),[()=>(a(t),n(()=>a(t).alternativeTitles.join(", ")))]),v(i,s)};b(Ua,i=>{a(t),n(()=>(a(t).alternativeTitles??[]).length>0)&&i(yt)})}var Wa=o(Ua,2);{var $t=i=>{var s=Ne();na(s,5,()=>(a(t),n(()=>a(t).badges)),oa,(g,m)=>{var f=Se(),D=r(f,!0);e(f),pa(f,(M,F)=>ua?.(M,F),()=>a(m)),$(()=>z(D,a(m))),v(g,f)}),e(s),v(i,s)};b(Wa,i=>{a(t),n(()=>(a(t).badges??[]).length>0)&&i($t)})}var Sa=o(Wa,2),Va=r(Sa);{var Ct=i=>{var s=ze(),g=r(s,!0);e(s),$(()=>z(g,(a(t),n(()=>a(t).category)))),U("click",s,()=>T("category")),v(i,s)};b(Va,i=>{a(t),n(()=>a(t).category)&&i(Ct)})}var Ga=o(Va,2);{var Et=i=>{var s=De(),g=r(s,!0);e(s),$(()=>z(g,(a(t),n(()=>a(t).dataType)))),v(i,s)};b(Ga,i=>{a(t),n(()=>a(t).dataType)&&i(Et)})}var Tt=o(Ga,2);{var jt=i=>{var s=Fe(),g=o(r(s));e(s),$(()=>z(g,` ${ee(Za),a(H),n(()=>Za[a(H)])??""}`)),v(i,s)};b(Tt,i=>{a(t),n(()=>a(t).rating)&&i(jt)})}e(Sa);var At=o(Sa,2);{var Lt=i=>{var s=Ie(),g=r(s);na(g,4,()=>n(()=>Array.from({length:5},(m,f)=>f+1)),oa,(m,f)=>{var D=Be(),M=Ca(D);at(M);var F=o(M,2);at(F),$(()=>{tt(M,f*2-1),et(M,a(H)===f*2-1),sa(M,"aria-label",`${f-.5} star`),tt(F,f*2),et(F,a(H)===f*2),sa(F,"aria-label",`${f} star`)}),U("change",M,()=>ba(f*2-1)),U("change",F,()=>ba(f*2)),v(m,D)}),e(g),e(s),v(i,s)};b(At,i=>{a(t),n(()=>a(t).rating)&&i(Lt)})}e(qa),e(Z);var Ka=o(Z,2),Ja=r(Ka);{var Mt=i=>{var s=Re(),g=r(s,!0);e(s),pa(s,(m,f)=>ua?.(m,f),()=>a(t).alternativeTitles.join(", ")),$(m=>z(g,m),[()=>(a(t),n(()=>a(t).alternativeTitles.join(", ")))]),v(i,s)};b(Ja,i=>{a(t),n(()=>(a(t).alternativeTitles??[]).length>0)&&i(Mt)})}var St=o(Ja,2);{var Nt=i=>{var s=Oe();na(s,5,()=>(a(t),n(()=>a(t).tags)),oa,(g,m)=>{var f=He(),D=r(f,!0);e(f),pa(f,(M,F)=>ua?.(M,F),()=>a(m)),$(()=>z(D,a(m))),v(g,f)}),e(s),v(i,s)};b(St,i=>{a(t),n(()=>(a(t).tags??[]).length>0)&&i(Nt)})}e(Ka),e(Y),e(O);var Qa=o(O,2);{var zt=i=>{var s=Xe(),g=r(s),m=r(g),f=o(r(m));e(m);var D=o(m,2);na(D,5,()=>a(_),oa,(F,u)=>{var C=We(),S=r(C);{var N=V=>{var G=Pe();pa(G,(aa,y)=>ua?.(aa,y),()=>a(u).name),$(()=>{sa(G,"src",(a(u),n(()=>a(u).image))),sa(G,"alt",(a(u),n(()=>a(u).name)))}),ne(G),v(V,G)},B=V=>{var G=qe();v(V,G)};b(S,V=>{a(u),n(()=>a(u).image)?V(N):V(B,!1)})}var P=o(S,2),q=r(P);{var ha=V=>{var G=Ue();v(V,G)},va=re(()=>(a(u),n(()=>x.includes(a(u).role.toLowerCase()))));b(q,V=>{a(va)&&V(ha)})}var ma=o(q,2),ga=r(ma,!0);e(ma),e(P),e(C),$(()=>z(ga,(a(u),n(()=>a(u).name)))),U("click",C,()=>Q(a(u).name)),v(F,C)}),e(D);var M=o(D,2);na(M,1,()=>a(_),oa,(F,u)=>{var C=Ht(),S=Ca(C);{var N=B=>{var P=Qe(),q=r(P),ha=o(r(q));e(q);var va=o(q,2);{var ma=y=>{var I=Ve(),ra=o(r(I));e(I),$(()=>z(ra,` ${a(u),n(()=>a(u).role)??""}`)),v(y,I)};b(va,y=>{a(u),n(()=>a(u).role)&&y(ma)})}var ga=o(va,2);{var V=y=>{var I=Ge(),ra=o(r(I));e(I),$(ca=>z(ra,` ${ca??""}`),[()=>(a(u),n(()=>a(u).alternativeNames.join(", ")))]),v(y,I)};b(ga,y=>{a(u),n(()=>(a(u).alternativeNames??[]).length>0)&&y(V)})}var G=o(ga,2);{var aa=y=>{var I=Je(),ra=o(r(I));na(ra,1,()=>(a(u),n(()=>a(u).tags)),oa,(ca,Na)=>{var za=Ke(),Rt=r(za,!0);e(za),$(()=>z(Rt,a(Na))),v(ca,za)}),e(I),v(y,I)};b(G,y=>{a(u),n(()=>(a(u).tags??[]).length>0)&&y(aa)})}e(P),pa(P,(y,I)=>ua?.(y,I),()=>a(u).name),$(()=>z(ha,` ${a(u),n(()=>a(u).name)??""}`)),we(3,P,()=>$e,()=>({duration:200})),v(B,P)};b(S,B=>{a(J),a(u),n(()=>a(J)===a(u).name&&(a(u).role||(a(u).alternativeNames??[]).length>0||(a(u).tags??[]).length>0))&&B(N)})}v(F,C)}),e(g),e(s),U("click",f,()=>T("characters")),v(i,s)};b(Qa,i=>{a(t),n(()=>(a(t).characters??[]).length>0)&&i(zt)})}var Xa=o(Qa,2);{var Dt=i=>{var s=Ye(),g=r(s),m=r(g),f=o(r(m));e(m);var D=o(m,2),M=r(D);rt(M,()=>a(h)),e(D),e(g),e(s),U("click",f,()=>T("description")),v(i,s)};b(Xa,i=>{a(t),n(()=>a(t).description)&&i(Dt)})}var Ya=o(Xa,2);{var Ft=i=>{var s=rr(),g=r(s),m=r(g),f=o(r(m));e(m);var D=o(m,2),M=r(D),F=o(r(M),2);na(F,5,()=>a(W),oa,(u,C)=>{var S=er(),N=Ca(S),B=r(N),P=r(B,!0);e(B);var q=o(B,2),ha=r(q,!0);e(q);var va=o(q,2),ma=r(va);{var ga=aa=>{var y=ar();na(y,5,()=>(a(C),n(()=>a(C).tags)),oa,(I,ra)=>{var ca=Ze(),Na=r(ca,!0);e(ca),$(()=>z(Na,a(ra))),v(I,ca)}),e(y),v(aa,y)};b(ma,aa=>{a(C),n(()=>(a(C).tags??[]).length>0)&&aa(ga)})}e(va),e(N);var V=o(N,2);{var G=aa=>{var y=tr(),I=o(r(y),2),ra=r(I);rt(ra,()=>(a(C),n(()=>dt(a(C).description)))),e(I),e(y),v(aa,y)};b(V,aa=>{a(C),n(()=>a(C).description)&&aa(G)})}$(()=>{z(P,(a(C),n(()=>a(C).chapterSE))),z(ha,(a(C),n(()=>a(C).characters)))}),v(u,S)}),e(F),e(M),e(D),e(g),e(s),U("click",f,()=>T("chapters")),v(i,s)};b(Ya,i=>{a(t),n(()=>(a(t).rows??[]).length>0)&&i(Ft)})}var Bt=o(Ya,2);{var It=i=>{var s=or(),g=o(r(s),2),m=r(g),f=r(m);{var D=S=>{var N=sr(),B=o(r(N),2),P=r(B,!0);e(B),e(N),$(q=>z(P,q),[()=>(a(t),n(()=>ja(a(t).createdAt)))]),v(S,N)};b(f,S=>{a(t),n(()=>a(t).createdAt)&&S(D)})}var M=o(f,2);{var F=S=>{var N=ir(),B=o(r(N),2),P=r(B,!0);e(B),e(N),$(q=>z(P,q),[()=>(a(t),n(()=>ja(a(t).openedAt)))]),v(S,N)};b(M,S=>{a(t),n(()=>a(t).openedAt)&&S(F)})}var u=o(M,2);{var C=S=>{var N=nr(),B=o(r(N),2),P=r(B,!0);e(B),e(N),$(q=>z(P,q),[()=>(a(t),n(()=>ja(a(t).editedAt)))]),v(S,N)};b(u,S=>{a(t),n(()=>a(t).editedAt)&&S(C)})}e(m),e(g),e(s),v(i,s)};b(Bt,i=>{a(t),n(()=>a(t).createdAt||a(t).openedAt||a(t).editedAt)&&i(It)})}e(j),$(()=>z(kt,(a(t),n(()=>a(t).title)))),v(c,j)},gt=c=>{var j=lr();v(c,j)};b(ft,c=>{a(t)?c(mt):c(gt,!1)})}e(Aa);var bt=o(Aa,2);{var _t=c=>{ce(c,{get entryId(){return a(w)},get editSection(){return a(X)},$$events:{save:ka,cancel:_a}})};b(bt,c=>{a(k)&&c(_t)})}$(()=>sa(ct,"href",`${fe??""}/`)),U("click",Oa,()=>T("All")),U("click",pt,ya),v(d,Ia),Zt(),L()}export{xr as component,wr as universal};
